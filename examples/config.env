# Example configuration for /etc/kiosk-retropie/config.env
#
# This file is sourced by bash. Quote values if they contain spaces or special characters.

## Required (kiosk)

# Full URL to open in Chromium when in kiosk mode.
KIOSK_URL=

## Optional: repo pinning (only used by cloud-init / first-boot bootstrap)

# KIOSK_RETROPIE_REPO_URL=https://github.com/theaussiepom/kiosk-retropie.git
# KIOSK_RETROPIE_REPO_REF=<tag-or-commit>
# KIOSK_RETROPIE_CHECKOUT_DIR=/opt/kiosk-retropie

## Optional: display

# Rotation: normal | left | right | inverted
# KIOSK_SCREEN_ROTATION=normal

# Xorg virtual terminals (VTs) used by kiosk vs Retro mode.
# Linux exposes multiple text/graphics “virtual terminals” (numbered sessions). This project uses separate VTs so
# kiosk and Retro can cleanly take ownership of the display.
# KIOSK_X_VT=7
# RETROPIE_X_VT=8

# Chromium profile directory (cookies, local storage, cache, preferences).
# Must be writable by the user running the kiosk service.
# KIOSK_CHROMIUM_PROFILE_DIR=/var/lib/kiosk-retropie/chromium-profile

## Optional: controller button codes (entry/exit)

# This project uses Linux evdev button codes. Different controllers can emit different codes.
# To discover codes on the Pi:
#   sudo kiosk-retropie-controller-codes.sh
#   # then press the buttons you want.

# Enter Retro (kiosk -> Retro)
# RETROPIE_ENTER_TRIGGER_CODE=315

# Exit Retro (Retro -> kiosk): press RETROPIE_EXIT_SECOND_CODE, then press RETROPIE_EXIT_TRIGGER_CODE within RETROPIE_COMBO_WINDOW_SEC.
# RETROPIE_EXIT_TRIGGER_CODE=315
# RETROPIE_EXIT_SECOND_CODE=304

# Timing knobs
# RETROPIE_START_DEBOUNCE_SEC=1.0
# RETROPIE_COMBO_WINDOW_SEC=0.75

## Optional: ROM sync from NFS (read-only)

# ROMs are copied from NFS on boot to a local directory. Gameplay does not depend on NFS being available.
# Required to enable:
# NFS_SERVER=192.168.1.20
# NFS_ROMS_PATH=/export/retropie

# Optional:
# RETROPIE_NFS_MOUNT_POINT=/mnt/kiosk-retropie-roms
# RETROPIE_NFS_MOUNT_OPTIONS=ro
# NFS_ROMS_PATH should point at the ROM root (no extra subdir setting).
# RETROPIE_ROMS_DIR=/var/lib/kiosk-retropie/retropie/roms
# RETROPIE_ROMS_SYNC_DELETE=0
# RETROPIE_ROMS_OWNER=retropi:retropi
# RETROPIE_ROMS_SYSTEMS=nes,snes,megadrive,psx
# RETROPIE_ROMS_EXCLUDE_SYSTEMS=

## Optional: save data policy

# Local save/state directories (always local)
# RETROPIE_SAVES_DIR=/var/lib/kiosk-retropie/retropie/saves
# RETROPIE_STATES_DIR=/var/lib/kiosk-retropie/retropie/states

## Optional: periodic save backup to NFS (skips while in Retro mode)

# RETROPIE_SAVE_BACKUP_ENABLED=0
# Backup NFS path (uses NFS_SERVER as the server)
# NFS_SAVE_BACKUP_PATH=/export/kiosk-retropie-backups

# Where to mount the backup share and which subdir to use on the mounted share
# RETROPIE_SAVE_BACKUP_DIR=/mnt/kiosk-retropie-backup
# RETROPIE_SAVE_BACKUP_SUBDIR=kiosk-retropie-saves

# Mirror deletions from local -> NFS
# RETROPIE_SAVE_BACKUP_DELETE=0

# RETROPIE_SAVE_BACKUP_NFS_MOUNT_OPTIONS=rw

## Optional: install RetroPie during install (heavy; may take a long time)

# RETROPIE_INSTALL=0

## Optional: MQTT bridges (LEDs and/or screen brightness)

# Broker settings (required if any MQTT bridge is enabled)
# MQTT_HOST=192.168.1.50
# MQTT_PORT=1883
# MQTT_USERNAME=
# MQTT_PASSWORD=
# MQTT_TLS=0

# Root topic prefix for all MQTT topics (use a unique prefix per device if you run multiple kiosks)
# KIOSK_MQTT_TOPIC_PREFIX=kiosk-retropie

# LED MQTT bridge
# KIOSK_LED_MQTT_ENABLED=0
# KIOSK_LED_MQTT_POLL_SEC=2

# Screen brightness MQTT bridge
# KIOSK_SCREEN_BRIGHTNESS_MQTT_ENABLED=0
# KIOSK_SCREEN_BRIGHTNESS_MQTT_POLL_SEC=2

# Which backlight device under /sys/class/backlight to control (optional; defaults to first one found)
# Discover with: ls -1 /sys/class/backlight
# KIOSK_BACKLIGHT_NAME=rpi_backlight
